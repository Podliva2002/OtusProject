<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Выпадающий список категорий</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .category {
            cursor: pointer; /* Указатель при наведении */
            margin: 5px 0; /* Отступы между элементами списка */
            font-weight: bold; /* Жирный шрифт для категорий */
        }
        .subcategory {
            display: none; /* Скрываем подкатегории по умолчанию */
            padding-left: 20px; /* Отступ для подкатегорий */
        }
        .active {
            display: block; /* Показываем подкатегории при активации */
        }
    </style>
</head>
<body>
    <h1>Список категорий</h1>
    <div id="categories-container"></div>

    <script>
        // Пример структуры категорий
        const categories = [
            {
                name: 'Категория 1',
                subcategories: [
                    {
                        name: 'Подкатегория 1.1',
                        subcategories: []
                    },
                    {
                        name: 'Подкатегория 1.2',
                        subcategories: [
                            {
                                name: 'Подкатегория 1.2.1',
                                subcategories: []
                            }
                        ]
                    }
                ]
            },
            {
                name: 'Категория 2',
                subcategories: []
            }
        ];
            
        // Функция для создания выпадающего списка категорий
        function createCategoryList(categories) {
            const div = document.createElement('div'); // Создаем контейнер для категорий

            categories.forEach(category => {
                const categoryDiv = document.createElement('div'); // Создаем элемент для категории
                categoryDiv.className = 'category'; // Добавляем класс для стилизации
                categoryDiv.textContent = category.name; // Устанавливаем текст категории

                // Создаем контейнер для подкатегорий
                const subcategoryDiv = document.createElement('div');
                subcategoryDiv.className = 'subcategory'; // Добавляем класс для стилизации

                // Если у категории есть подкатегории, рекурсивно создаем их список
                if (category.subcategories && category.subcategories.length > 0) {
                    subcategoryDiv.appendChild(createCategoryList(category.subcategories));
                }

                // Обработчик клика для показа/скрытия подкатегорий
                categoryDiv.addEventListener('click', (event) => {
                    event.stopPropagation(); // Останавливаем всплытие события
                    subcategoryDiv.classList.toggle('active'); // Переключаем класс для показа/скрытия
                });

                // Добавляем элементы в контейнер
                div.appendChild(categoryDiv); // Добавляем категорию в основной контейнер
                div.appendChild(subcategoryDiv); // Добавляем подкатегории в основной контейнер
            });

            return div; // Возвращаем созданный контейнер
        }

        // Добавляем список категорий в контейнер на странице
        const container = document.getElementById('categories-container');
        container.appendChild(createCategoryList(categories));
    </script>
</body>
</html>
